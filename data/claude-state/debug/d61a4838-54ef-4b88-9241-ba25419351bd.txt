[DEBUG] Watching for changes in setting files /home/jamestroutman/.claude/settings.json, /home/jamestroutman/code/experiments/claude-code-api/.claude/settings.local.json...
[DEBUG] Applying permission update: Adding 26 allow rule(s) to destination 'localSettings': ["Bash(chmod:*)","Bash(./copy-claude-config.sh)","Bash(docker build:*)","Bash(claude --version:*)","Bash(docker run:*)","Bash(docker logs:*)","Bash(curl:*)","Bash(docker exec:*)","Bash(docker stop:*)","Bash(docker rm:*)","Bash(cat:*)","Bash(python3:*)","Bash(./diagnose-websocket.sh:*)","WebSearch","WebFetch(domain:www.npmjs.com)","WebFetch(domain:github.com)","Bash(docker ps:*)","Bash(xargs:*)","Bash(claude-code-api:latest)","Bash(git add:*)","Bash(git commit -m \"$(cat <<''EOF''\nAdd MCP server support with Atlassian Confluence and Monday.com\n\n- Add MCP server configuration with runtime environment variable injection\n- Install @aashari/mcp-server-atlassian-confluence and @mondaydotcomorg/monday-api-mcp\n- Create docker-entrypoint.sh to generate ~/.claude.json from env vars\n- Update health endpoint to include MCP server status (without exposing tokens)\n- Add comprehensive MCP_CONFIGURATION.md documentation\n- Update README with MCP health check examples\n- Support for ATLASSIAN_SITE_NAME, ATLASSIAN_USER_EMAIL, ATLASSIAN_API_TOKEN, and MONDAY_TOKEN env vars\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")","Bash(git push:*)","Bash(git remote set-url:*)","Bash(git config:*)","Bash(git fetch:*)","Bash(git pull:*)"]
[DEBUG] Found 0 plugins (0 enabled, 0 disabled)
[DEBUG] Total LSP servers loaded: 0
[DEBUG] LSP manager initialized with 0 servers
[DEBUG] LSP server manager initialized successfully
[DEBUG] Loading skills from directories: managed=/etc/claude-code/.claude/skills, user=/home/jamestroutman/.claude/skills, project=/home/jamestroutman/code/experiments/claude-code-api/.claude/skills
[DEBUG] >>>>> getPluginSkills CALLED <<<<<
[DEBUG] Creating shell snapshot for zsh (/usr/bin/zsh)
[DEBUG] Looking for shell config file: /home/jamestroutman/.zshrc
[DEBUG] Snapshots directory: /home/jamestroutman/.claude/shell-snapshots
[DEBUG] Creating snapshot at: /home/jamestroutman/.claude/shell-snapshots/snapshot-zsh-1762866945027-x5dz15.sh
[DEBUG] Shell binary exists: true
[DEBUG] Execution timeout: 10000ms
[DEBUG] Writing to temp file: /home/jamestroutman/.claude/todos/d61a4838-54ef-4b88-9241-ba25419351bd-agent-d61a4838-54ef-4b88-9241-ba25419351bd.json.tmp.192951.1762866945034
[DEBUG] Temp file written successfully, size: 2 bytes
[DEBUG] Renaming /home/jamestroutman/.claude/todos/d61a4838-54ef-4b88-9241-ba25419351bd-agent-d61a4838-54ef-4b88-9241-ba25419351bd.json.tmp.192951.1762866945034 to /home/jamestroutman/.claude/todos/d61a4838-54ef-4b88-9241-ba25419351bd-agent-d61a4838-54ef-4b88-9241-ba25419351bd.json
[DEBUG] File /home/jamestroutman/.claude/todos/d61a4838-54ef-4b88-9241-ba25419351bd-agent-d61a4838-54ef-4b88-9241-ba25419351bd.json written atomically
[DEBUG] Writing to temp file: /home/jamestroutman/.claude.json.tmp.192951.1762866945052
[DEBUG] Preserving file permissions: 100644
[DEBUG] Temp file written successfully, size: 46730 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /home/jamestroutman/.claude.json.tmp.192951.1762866945052 to /home/jamestroutman/.claude.json
[DEBUG] File /home/jamestroutman/.claude.json written atomically
[DEBUG] getPluginSkills: Processing 0 enabled plugins
[DEBUG] Total plugin skills loaded: 0
[DEBUG] Total plugin commands loaded: 0
[DEBUG] Registered 0 hooks from 0 plugins
[DEBUG] Loaded 0 unique skills (managed: 0, user: 0, project: 0, duplicates removed: 0)
[DEBUG] getSkillsIfEnabled returning: 0 skill dir commands, 0 plugin skills
[DEBUG] Total plugin agents loaded: 0
[DEBUG] Ripgrep first use test: PASSED (mode=builtin, path=/home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code/vendor/ripgrep/x64-linux/rg)
[DEBUG] MCP server "chrome-devtools": Starting connection with timeout of 30000ms
[DEBUG] MCP server "render": Initializing HTTP transport to https://mcp.render.com/mcp
[DEBUG] MCP server "render": Node version: v25.1.0, Platform: linux
[DEBUG] MCP server "render": Environment: {"NODE_OPTIONS":"not set","UV_THREADPOOL_SIZE":"default","HTTP_PROXY":"not set","HTTPS_PROXY":"not set","NO_PROXY":"not set"}
[DEBUG] Writing to temp file: /home/jamestroutman/.claude.json.tmp.192951.1762866945221
[DEBUG] Preserving file permissions: 100644
[DEBUG] Temp file written successfully, size: 46730 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /home/jamestroutman/.claude.json.tmp.192951.1762866945221 to /home/jamestroutman/.claude.json
[DEBUG] File /home/jamestroutman/.claude.json written atomically
[DEBUG] Getting matching hook commands for SessionStart with query: startup
[DEBUG] Found 0 hook matchers in settings
[DEBUG] Matched 0 unique hooks for query "startup" (0 before deduplication)
[DEBUG] MCP server "render": MTLS options: default
[DEBUG] MCP server "render": HTTP transport options: {"url":"https://mcp.render.com/mcp","headers":{"User-Agent":"claude-code/2.0.32","Authorization":"Bearer rnd_avW5e5O1lyTYitQ6XbFOX2YIPQUx"},"hasAuthProvider":true,"timeoutMs":60000}
[DEBUG] MCP server "render": HTTP transport created successfully
[DEBUG] MCP server "render": Client created, setting up request handler
[DEBUG] MCP server "render": Starting connection with timeout of 30000ms
[DEBUG] MCP server "render": Testing basic HTTP connectivity to https://mcp.render.com/mcp
[DEBUG] MCP server "render": Parsed URL: host=mcp.render.com, port=default, protocol=https:
[DEBUG] MCP server "render": No token data found
[DEBUG] Writing to temp file: /home/jamestroutman/.claude.json.tmp.192951.1762866945298
[DEBUG] Preserving file permissions: 100644
[DEBUG] Temp file written successfully, size: 46625 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /home/jamestroutman/.claude.json.tmp.192951.1762866945298 to /home/jamestroutman/.claude.json
[DEBUG] File /home/jamestroutman/.claude.json written atomically
[DEBUG] Writing to temp file: /home/jamestroutman/.claude.json.tmp.192951.1762866945311
[DEBUG] Preserving file permissions: 100644
[DEBUG] Temp file written successfully, size: 46625 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /home/jamestroutman/.claude.json.tmp.192951.1762866945311 to /home/jamestroutman/.claude.json
[DEBUG] File /home/jamestroutman/.claude.json written atomically
[DEBUG] AutoUpdaterWrapper: Installation type: npm-global, using native: false
[DEBUG] performStartupChecks called
[DEBUG] Starting background plugin installations
[DEBUG] performBackgroundPluginInstallations called
[DEBUG] Setting installation status: 0 marketplaces, 0 installable plugins, 0 uninstallable plugins
[DEBUG] Loaded plugins - Enabled: 0, Disabled: 0, Commands: 0, Agents: 0, Errors: 0
[DEBUG] MCP server "ide": Starting connection with timeout of 30000ms
[ERROR] MCP server "chrome-devtools" Server stderr: chrome-devtools-mcp exposes content of the browser instance to the MCP clients allowing them to inspect,
debug, and modify any data in the browser or DevTools.
Avoid sharing sensitive or personal information that you do not want to share with MCP clients.
[DEBUG] Shell snapshot created successfully (19795 bytes)
[DEBUG] MCP server "chrome-devtools": Successfully connected to stdio server in 2022ms
[DEBUG] MCP server "chrome-devtools": Connection established with capabilities: {"hasTools":true,"hasPrompts":false,"hasResources":false,"serverVersion":{"name":"chrome_devtools","title":"Chrome DevTools MCP server","version":"0.10.1"}}
[ERROR] AxiosError: AxiosError: Request failed with status code 401
    at dR (file:///home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code/cli.js:25:1136)
    at IncomingMessage.<anonymous> (file:///home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code/cli.js:30:9845)
    at IncomingMessage.emit (node:events:520:35)
    at IncomingMessage.emit (node:domain:489:12)
    at endReadableNT (node:internal/streams/readable:1701:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)
    at o7A.request (file:///home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code/cli.js:32:2129)
    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)
    at async Ml2 (file:///home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code/cli.js:3630:15280)
[DEBUG] Summarizing last 6 of 469 messages (~110541 tokens)
[DEBUG] MCP server "ide": Successfully connected to ws-ide server in 123ms
[DEBUG] MCP server "ide": Connection established with capabilities: {"hasTools":true,"hasPrompts":false,"hasResources":false,"serverVersion":{"name":"Claude Code VSCode MCP","version":"2.0.34"}}
[DEBUG] Writing to temp file: /home/jamestroutman/.claude.json.tmp.192951.1762866947293
[DEBUG] Preserving file permissions: 100644
[DEBUG] Temp file written successfully, size: 46625 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /home/jamestroutman/.claude.json.tmp.192951.1762866947293 to /home/jamestroutman/.claude.json
[DEBUG] File /home/jamestroutman/.claude.json written atomically
[DEBUG] Writing to temp file: /home/jamestroutman/.claude.json.tmp.192951.1762866947320
[DEBUG] Preserving file permissions: 100644
[DEBUG] Temp file written successfully, size: 46625 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /home/jamestroutman/.claude.json.tmp.192951.1762866947320 to /home/jamestroutman/.claude.json
[DEBUG] File /home/jamestroutman/.claude.json written atomically
[DEBUG] Writing to temp file: /home/jamestroutman/.claude.json.tmp.192951.1762866947329
[DEBUG] Preserving file permissions: 100644
[DEBUG] Temp file written successfully, size: 46625 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /home/jamestroutman/.claude.json.tmp.192951.1762866947329 to /home/jamestroutman/.claude.json
[DEBUG] File /home/jamestroutman/.claude.json written atomically
[DEBUG] Writing to temp file: /home/jamestroutman/.claude.json.tmp.192951.1762866947338
[DEBUG] Preserving file permissions: 100644
[DEBUG] Temp file written successfully, size: 46625 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /home/jamestroutman/.claude.json.tmp.192951.1762866947338 to /home/jamestroutman/.claude.json
[DEBUG] File /home/jamestroutman/.claude.json written atomically
[DEBUG] Writing to temp file: /home/jamestroutman/.claude.json.tmp.192951.1762866947353
[DEBUG] Preserving file permissions: 100644
[DEBUG] Temp file written successfully, size: 46730 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /home/jamestroutman/.claude.json.tmp.192951.1762866947353 to /home/jamestroutman/.claude.json
[DEBUG] File /home/jamestroutman/.claude.json written atomically
[DEBUG] MCP server "render": No token data found
[DEBUG] MCP server "render": No token data found
[DEBUG] MCP server "render": Successfully connected to http server in 3116ms
[DEBUG] MCP server "render": Connection established with capabilities: {"hasTools":true,"hasPrompts":false,"hasResources":false,"serverVersion":{"name":"render-mcp-server","version":"dev"}}
[DEBUG] MCP server "render": No token data found
[DEBUG] Writing to temp file: /home/jamestroutman/.claude.json.tmp.192951.1762866948654
[DEBUG] Preserving file permissions: 100644
[DEBUG] Temp file written successfully, size: 46730 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /home/jamestroutman/.claude.json.tmp.192951.1762866948654 to /home/jamestroutman/.claude.json
[DEBUG] File /home/jamestroutman/.claude.json written atomically
[DEBUG] Stream started - received first chunk
[DEBUG] AutoUpdaterWrapper: Installation type: npm-global, using native: false
[DEBUG] Stream started - received first chunk
[DEBUG] Skills and commands included in Skill tool:
[DEBUG] Slash commands included in SlashCommand tool:
[DEBUG] Stream started - received first chunk
[DEBUG] Getting matching hook commands for SubagentStop with query: undefined
[DEBUG] Found 0 hook matchers in settings
[DEBUG] Matched 0 unique hooks for query "no match query" (0 before deduplication)
[DEBUG] Getting matching hook commands for SubagentStop with query: undefined
[DEBUG] Found 0 hook matchers in settings
[DEBUG] Matched 0 unique hooks for query "no match query" (0 before deduplication)
[DEBUG] Getting matching hook commands for SessionStart with query: resume
[DEBUG] Found 0 hook matchers in settings
[DEBUG] Matched 0 unique hooks for query "resume" (0 before deduplication)
[DEBUG] FileHistory: Copied backup 4d388e07aaa91e87@v1 from session bdf401c1-544e-42d8-af8e-55ad70a5e070 to d61a4838-54ef-4b88-9241-ba25419351bd
[DEBUG] FileHistory: Copied backup e4818bef66939c1f@v1 from session bdf401c1-544e-42d8-af8e-55ad70a5e070 to d61a4838-54ef-4b88-9241-ba25419351bd
[DEBUG] FileHistory: Copied backup 4d388e07aaa91e87@v2 from session bdf401c1-544e-42d8-af8e-55ad70a5e070 to d61a4838-54ef-4b88-9241-ba25419351bd
[DEBUG] FileHistory: Copied backup a2a68bb3fe9156f8@v2 from session bdf401c1-544e-42d8-af8e-55ad70a5e070 to d61a4838-54ef-4b88-9241-ba25419351bd
[DEBUG] FileHistory: Copied backup e4818bef66939c1f@v2 from session bdf401c1-544e-42d8-af8e-55ad70a5e070 to d61a4838-54ef-4b88-9241-ba25419351bd
[DEBUG] FileHistory: Copied backup 8ab94847c55c4b9e@v1 from session bdf401c1-544e-42d8-af8e-55ad70a5e070 to d61a4838-54ef-4b88-9241-ba25419351bd
[DEBUG] FileHistory: Copied backup 7908fecfb35e80e0@v1 from session bdf401c1-544e-42d8-af8e-55ad70a5e070 to d61a4838-54ef-4b88-9241-ba25419351bd
[DEBUG] FileHistory: Copied backup 4d388e07aaa91e87@v3 from session bdf401c1-544e-42d8-af8e-55ad70a5e070 to d61a4838-54ef-4b88-9241-ba25419351bd
[DEBUG] FileHistory: Copied backup a2a68bb3fe9156f8@v3 from session bdf401c1-544e-42d8-af8e-55ad70a5e070 to d61a4838-54ef-4b88-9241-ba25419351bd
[DEBUG] FileHistory: Copied backup e4818bef66939c1f@v3 from session bdf401c1-544e-42d8-af8e-55ad70a5e070 to d61a4838-54ef-4b88-9241-ba25419351bd
[DEBUG] FileHistory: Copied backup 8ab94847c55c4b9e@v2 from session bdf401c1-544e-42d8-af8e-55ad70a5e070 to d61a4838-54ef-4b88-9241-ba25419351bd
[DEBUG] FileHistory: Copied backup 7908fecfb35e80e0@v2 from session bdf401c1-544e-42d8-af8e-55ad70a5e070 to d61a4838-54ef-4b88-9241-ba25419351bd
[DEBUG] FileHistory: Copied backup 4d388e07aaa91e87@v4 from session bdf401c1-544e-42d8-af8e-55ad70a5e070 to d61a4838-54ef-4b88-9241-ba25419351bd
[DEBUG] FileHistory: Copied backup a2a68bb3fe9156f8@v4 from session bdf401c1-544e-42d8-af8e-55ad70a5e070 to d61a4838-54ef-4b88-9241-ba25419351bd
[DEBUG] FileHistory: Copied backup 4d388e07aaa91e87@v5 from session bdf401c1-544e-42d8-af8e-55ad70a5e070 to d61a4838-54ef-4b88-9241-ba25419351bd
[DEBUG] FileHistory: Copied backup 4d388e07aaa91e87@v6 from session bdf401c1-544e-42d8-af8e-55ad70a5e070 to d61a4838-54ef-4b88-9241-ba25419351bd
[DEBUG] FileHistory: Copied backup 1c41c0693fe99e88@v2 from session bdf401c1-544e-42d8-af8e-55ad70a5e070 to d61a4838-54ef-4b88-9241-ba25419351bd
[DEBUG] FileHistory: Copied backup 8ab94847c55c4b9e@v3 from session bdf401c1-544e-42d8-af8e-55ad70a5e070 to d61a4838-54ef-4b88-9241-ba25419351bd
[DEBUG] FileHistory: Copied backup a2a68bb3fe9156f8@v5 from session bdf401c1-544e-42d8-af8e-55ad70a5e070 to d61a4838-54ef-4b88-9241-ba25419351bd
[DEBUG] FileHistory: Copied backup e4818bef66939c1f@v4 from session bdf401c1-544e-42d8-af8e-55ad70a5e070 to d61a4838-54ef-4b88-9241-ba25419351bd
[DEBUG] FileHistory: Copied backup 8ab94847c55c4b9e@v4 from session bdf401c1-544e-42d8-af8e-55ad70a5e070 to d61a4838-54ef-4b88-9241-ba25419351bd
[DEBUG] FileHistory: Copied backup 8ab94847c55c4b9e@v5 from session bdf401c1-544e-42d8-af8e-55ad70a5e070 to d61a4838-54ef-4b88-9241-ba25419351bd
[DEBUG] Writing to temp file: /home/jamestroutman/.claude.json.tmp.192951.1762866957932
[DEBUG] Preserving file permissions: 100644
[DEBUG] Temp file written successfully, size: 46730 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /home/jamestroutman/.claude.json.tmp.192951.1762866957932 to /home/jamestroutman/.claude.json
[DEBUG] File /home/jamestroutman/.claude.json written atomically
[DEBUG] Writing to temp file: /home/jamestroutman/.claude.json.tmp.192951.1762866957947
[DEBUG] Preserving file permissions: 100644
[DEBUG] Temp file written successfully, size: 46625 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /home/jamestroutman/.claude.json.tmp.192951.1762866957947 to /home/jamestroutman/.claude.json
[DEBUG] File /home/jamestroutman/.claude.json written atomically
[DEBUG] Writing to temp file: /home/jamestroutman/.claude.json.tmp.192951.1762866957952
[DEBUG] Preserving file permissions: 100644
[DEBUG] Temp file written successfully, size: 46625 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /home/jamestroutman/.claude.json.tmp.192951.1762866957952 to /home/jamestroutman/.claude.json
[DEBUG] File /home/jamestroutman/.claude.json written atomically
