[DEBUG] Watching for changes in setting files /home/jamestroutman/.claude/settings.json, /home/jamestroutman/code/experiments/clarity-turbo/my-turborepo/.claude/settings.local.json...
[DEBUG] Applying permission update: Adding 71 allow rule(s) to destination 'localSettings': ["Bash(claude --print --output-format stream-json)","Bash(claude --print --verbose --output-format stream-json)","Bash(npx supabase migration:*)","Bash(npx supabase:*)","Bash(psql:*)","Bash(npm run build:*)","Read(//tmp/**)","Bash(curl:*)","Bash(npm run dev:*)","Bash(mkdir:*)","Bash(find:*)","Bash(docker exec:*)","Bash(node:*)","mcp__atlassian__getAccessibleAtlassianResources","mcp__atlassian__searchConfluenceUsingCql","Bash(lsof:*)","Bash(xargs kill:*)","Bash(turbo run:*)","Bash(pkill:*)","Read(//home/jamestroutman/.npm/_logs/**)","Bash(docker logs:*)","Bash(timeout 30 bash -c 'tail -f /dev/null & BG_PID=$!; kill $BG_PID 2>/dev/null; echo \"\"Waiting for next save attempt...\"\"')","Bash(cat:*)","Bash(npm run check-types:*)","Bash(npx tsc:*)","Bash(npm install:*)","Bash(test:*)","Bash(npx tsx:*)","mcp__monday__get_board_info","mcp__monday__create_item","mcp__monday__change_item_column_values","mcp__atlassian__createConfluencePage","mcp__chrome-devtools__navigate_page","mcp__playwright__browser_navigate","mcp__playwright__browser_wait_for","mcp__playwright__browser_take_screenshot","mcp__playwright__browser_click","mcp__playwright__browser_type","mcp__supabase__execute_sql","mcp__monday__get_board_items_page","mcp__playwright__browser_console_messages","mcp__atlassian__getConfluencePage","mcp__atlassian__getConfluencePageDescendants","Bash(if [ -f /home/jamestroutman/code/experiments/clarity-turbo/my-turborepo/apps/web/.env.local ])","Bash(then source /home/jamestroutman/code/experiments/clarity-turbo/my-turborepo/apps/web/.env.local)","Bash(else echo \"No .env.local file found\")","Bash(fi)","Bash(set -a)","Bash(source:*)","Bash(set +a)","Bash(xargs -I {} sh -c 'MONDAY_API_TOKEN={} node ../../scripts/check-monday-columns.js 18065687927')","Bash(xargs -I {} sh -c 'MONDAY_API_TOKEN={} node ../../scripts/check-monday-columns.js 9762565449')","Bash(xargs -I {} sh -c 'MONDAY_API_TOKEN={} node scripts/check-monday-columns.js 9762565449')","Bash(echo:*)","Bash(xargs -I {} sh -c 'MONDAY_API_TOKEN={} node scripts/check-monday-columns.js 18027518486')","Bash(xargs -I {} sh -c 'MONDAY_API_TOKEN={} node scripts/check-monday-columns.js 9811240186')","Bash(xargs -I {} sh -c 'MONDAY_API_TOKEN={} node scripts/check-monday-columns.js 18007930608')","Bash(xargs -I {} sh -c 'MONDAY_API_TOKEN={} node scripts/check-monday-columns.js 9762207095')","Bash(xargs -I {} sh -c 'MONDAY_API_TOKEN={} node scripts/check-monday-columns.js 18018390488')","Bash(xargs -I {} sh -c 'MONDAY_API_TOKEN={} node scripts/check-monday-columns.js 9762492395')","Bash(npx playwright test:*)","Bash(npm test)","Bash(npx playwright install:*)","Bash(git add:*)","Bash(git commit -m \"$(cat <<''EOF''\nfeat: major enhancements to integrations, testing, and UI\n\n- Add comprehensive Playwright integration test suite with fixtures\n- Enhance Confluence integration with improved sync and context management\n- Add Monday.com multi-board sync capabilities with column mappings\n- Implement new API routes: features, stories, templates, workspaces, functional areas\n- Add streaming AI generation endpoints for real-time feedback\n- Create new UI components: MarkdownEditor, ConversationHistory, WorkstreamCard\n- Add settings page for workspace and integration configuration\n- Reorganize documentation structure (move specs to docs/specs/)\n- Add new database migrations for functional areas, workstream keys, and column mappings\n- Enhance component headers with improved sync status and actions\n- Add workstream filtering and configuration management\n- Update dependencies and add testing libraries (@playwright/test)\n- Add development utilities and scripts for testing integrations\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")","Bash(git remote add:*)","Bash(git push:*)","Bash(apps/web/types/database.types.ts)","Bash(timeout 10 npm run dev)","Bash(git commit:*)","Bash(ls:*)"]
[DEBUG] Found 0 plugins (0 enabled, 0 disabled)
[DEBUG] Total LSP servers loaded: 0
[DEBUG] LSP manager initialized with 0 servers
[DEBUG] LSP server manager initialized successfully
[DEBUG] Loading skills from directories: managed=/etc/claude-code/.claude/skills, user=/home/jamestroutman/.claude/skills, project=/home/jamestroutman/code/experiments/clarity-turbo/my-turborepo/.claude/skills
[DEBUG] >>>>> getPluginSkills CALLED <<<<<
[DEBUG] Creating shell snapshot for zsh (/usr/bin/zsh)
[DEBUG] Looking for shell config file: /home/jamestroutman/.zshrc
[DEBUG] Snapshots directory: /home/jamestroutman/.claude/shell-snapshots
[DEBUG] Creating snapshot at: /home/jamestroutman/.claude/shell-snapshots/snapshot-zsh-1762457639984-8jayre.sh
[DEBUG] Shell binary exists: true
[DEBUG] Execution timeout: 10000ms
[DEBUG] Writing to temp file: /home/jamestroutman/.claude/todos/c2057f9b-c7cf-4c39-88af-c346bc04498f-agent-c2057f9b-c7cf-4c39-88af-c346bc04498f.json.tmp.559556.1762457639994
[DEBUG] Temp file written successfully, size: 2 bytes
[DEBUG] Renaming /home/jamestroutman/.claude/todos/c2057f9b-c7cf-4c39-88af-c346bc04498f-agent-c2057f9b-c7cf-4c39-88af-c346bc04498f.json.tmp.559556.1762457639994 to /home/jamestroutman/.claude/todos/c2057f9b-c7cf-4c39-88af-c346bc04498f-agent-c2057f9b-c7cf-4c39-88af-c346bc04498f.json
[DEBUG] File /home/jamestroutman/.claude/todos/c2057f9b-c7cf-4c39-88af-c346bc04498f-agent-c2057f9b-c7cf-4c39-88af-c346bc04498f.json written atomically
[DEBUG] getPluginSkills: Processing 0 enabled plugins
[DEBUG] Total plugin skills loaded: 0
[DEBUG] Total plugin commands loaded: 0
[DEBUG] Registered 0 hooks from 0 plugins
[DEBUG] Loaded 0 unique skills (managed: 0, user: 0, project: 0, duplicates removed: 0)
[DEBUG] getSkillsIfEnabled returning: 0 skill dir commands, 0 plugin skills
[DEBUG] Ripgrep first use test: PASSED (mode=builtin, path=/home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code/vendor/ripgrep/x64-linux/rg)
[DEBUG] Summarizing last 1 of 57 messages (~75711 tokens)
[DEBUG] Agent file /home/jamestroutman/code/experiments/clarity-turbo/my-turborepo/.claude/agents/golang-pro.md is missing required 'name' in frontmatter
[DEBUG] Failed to parse agent from /home/jamestroutman/code/experiments/clarity-turbo/my-turborepo/.claude/agents/golang-pro.md: Missing required "name" field in frontmatter
[DEBUG] Total plugin agents loaded: 0
[DEBUG] Shell snapshot created successfully (19795 bytes)
[DEBUG] Writing to temp file: /home/jamestroutman/.claude.json.tmp.559556.1762457640343
[DEBUG] Preserving file permissions: 100644
[DEBUG] Temp file written successfully, size: 45123 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /home/jamestroutman/.claude.json.tmp.559556.1762457640343 to /home/jamestroutman/.claude.json
[DEBUG] File /home/jamestroutman/.claude.json written atomically
[DEBUG] Writing to temp file: /home/jamestroutman/.claude.json.tmp.559556.1762457640355
[DEBUG] Preserving file permissions: 100644
[DEBUG] Temp file written successfully, size: 45123 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /home/jamestroutman/.claude.json.tmp.559556.1762457640355 to /home/jamestroutman/.claude.json
[DEBUG] File /home/jamestroutman/.claude.json written atomically
[DEBUG] Writing to temp file: /home/jamestroutman/.claude.json.tmp.559556.1762457640367
[DEBUG] Preserving file permissions: 100644
[DEBUG] Temp file written successfully, size: 45123 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /home/jamestroutman/.claude.json.tmp.559556.1762457640367 to /home/jamestroutman/.claude.json
[DEBUG] File /home/jamestroutman/.claude.json written atomically
[DEBUG] MCP server "chrome-devtools": Starting connection with timeout of 30000ms
[DEBUG] MCP server "figma-remote-mcp": Initializing HTTP transport to https://mcp.figma.com/mcp
[DEBUG] MCP server "figma-remote-mcp": Node version: v25.1.0, Platform: linux
[DEBUG] MCP server "figma-remote-mcp": Environment: {"NODE_OPTIONS":"not set","UV_THREADPOOL_SIZE":"default","HTTP_PROXY":"not set","HTTPS_PROXY":"not set","NO_PROXY":"not set"}
[DEBUG] Writing to temp file: /home/jamestroutman/.claude.json.tmp.559556.1762457641106
[DEBUG] Preserving file permissions: 100644
[DEBUG] Temp file written successfully, size: 45123 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /home/jamestroutman/.claude.json.tmp.559556.1762457641106 to /home/jamestroutman/.claude.json
[DEBUG] File /home/jamestroutman/.claude.json written atomically
[DEBUG] Getting matching hook commands for SessionStart with query: startup
[DEBUG] Found 0 hook matchers in settings
[DEBUG] Matched 0 unique hooks for query "startup" (0 before deduplication)
[DEBUG] MCP server "figma-remote-mcp": MTLS options: default
[DEBUG] MCP server "figma-remote-mcp": HTTP transport options: {"url":"https://mcp.figma.com/mcp","headers":{"User-Agent":"claude-code/2.0.32"},"hasAuthProvider":true,"timeoutMs":60000}
[DEBUG] MCP server "figma-remote-mcp": HTTP transport created successfully
[DEBUG] MCP server "figma-remote-mcp": Client created, setting up request handler
[DEBUG] MCP server "figma-remote-mcp": Starting connection with timeout of 30000ms
[DEBUG] MCP server "figma-remote-mcp": Testing basic HTTP connectivity to https://mcp.figma.com/mcp
[DEBUG] MCP server "figma-remote-mcp": Parsed URL: host=mcp.figma.com, port=default, protocol=https:
[DEBUG] MCP server "monday": SSE transport initialized, awaiting connection
[DEBUG] MCP server "monday": Starting connection with timeout of 30000ms
[DEBUG] MCP server "monday": Returning tokens
[DEBUG] MCP server "monday": Token length: 58
[DEBUG] MCP server "monday": Has refresh token: true
[DEBUG] MCP server "monday": Expires in: 68359s
[DEBUG] MCP server "figma-remote-mcp": Token expired without refresh token
[DEBUG] Writing to temp file: /home/jamestroutman/.claude.json.tmp.559556.1762457641233
[DEBUG] Preserving file permissions: 100644
[DEBUG] Temp file written successfully, size: 45018 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /home/jamestroutman/.claude.json.tmp.559556.1762457641233 to /home/jamestroutman/.claude.json
[DEBUG] File /home/jamestroutman/.claude.json written atomically
[DEBUG] Writing to temp file: /home/jamestroutman/.claude.json.tmp.559556.1762457641246
[DEBUG] Preserving file permissions: 100644
[DEBUG] Temp file written successfully, size: 45018 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /home/jamestroutman/.claude.json.tmp.559556.1762457641246 to /home/jamestroutman/.claude.json
[DEBUG] File /home/jamestroutman/.claude.json written atomically
[DEBUG] AutoUpdaterWrapper: Installation type: npm-global, using native: false
[DEBUG] performStartupChecks called
[DEBUG] Starting background plugin installations
[DEBUG] performBackgroundPluginInstallations called
[DEBUG] Writing to temp file: /home/jamestroutman/.claude.json.tmp.559556.1762457642622
[DEBUG] Preserving file permissions: 100644
[DEBUG] Temp file written successfully, size: 45123 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /home/jamestroutman/.claude.json.tmp.559556.1762457642622 to /home/jamestroutman/.claude.json
[DEBUG] File /home/jamestroutman/.claude.json written atomically
[DEBUG] Setting installation status: 0 marketplaces, 0 installable plugins, 0 uninstallable plugins
[DEBUG] Loaded plugins - Enabled: 0, Disabled: 0, Commands: 0, Agents: 0, Errors: 0
[DEBUG] Stream started - received first chunk
[DEBUG] Getting matching hook commands for SubagentStop with query: undefined
[DEBUG] Found 0 hook matchers in settings
[DEBUG] Matched 0 unique hooks for query "no match query" (0 before deduplication)
[DEBUG] Stream started - received first chunk
[DEBUG] Stream started - received first chunk
[ERROR] MCP server "chrome-devtools" Server stderr: chrome-devtools-mcp exposes content of the browser instance to the MCP clients allowing them to inspect,
debug, and modify any data in the browser or DevTools.
Avoid sharing sensitive or personal information that you do not want to share with MCP clients.
[DEBUG] MCP server "chrome-devtools": Successfully connected to stdio server in 2731ms
[DEBUG] MCP server "chrome-devtools": Connection established with capabilities: {"hasTools":true,"hasPrompts":false,"hasResources":false,"serverVersion":{"name":"chrome_devtools","title":"Chrome DevTools MCP server","version":"0.10.0"}}
[DEBUG] Summarizing last 4 of 14 messages (~115201 tokens)
[DEBUG] MCP server "monday": Returning tokens
[DEBUG] MCP server "monday": Token length: 58
[DEBUG] MCP server "monday": Has refresh token: true
[DEBUG] MCP server "monday": Expires in: 68354s
[DEBUG] Stream started - received first chunk
[DEBUG] AutoUpdater: Detected installation type: npm-global
[DEBUG] AutoUpdater: Using global update method
[DEBUG] Getting matching hook commands for SubagentStop with query: undefined
[DEBUG] Found 0 hook matchers in settings
[DEBUG] Matched 0 unique hooks for query "no match query" (0 before deduplication)
[DEBUG] Summarizing last 1 of 342 messages (~0 tokens)
[DEBUG] MCP server "monday": Returning tokens
[DEBUG] MCP server "monday": Token length: 58
[DEBUG] MCP server "monday": Has refresh token: true
[DEBUG] MCP server "monday": Expires in: 68354s
[DEBUG] MCP server "monday": Successfully connected to sse server in 5281ms
[DEBUG] MCP server "monday": Connection established with capabilities: {"hasTools":true,"hasPrompts":false,"hasResources":false,"serverVersion":{"name":"monday.com","version":"1.0.0"}}
[DEBUG] MCP server "monday": Returning tokens
[DEBUG] MCP server "monday": Token length: 58
[DEBUG] MCP server "monday": Has refresh token: true
[DEBUG] MCP server "monday": Expires in: 68354s
[DEBUG] MCP server "figma-remote-mcp": Found client info
[DEBUG] MCP server "figma-remote-mcp": Token expired without refresh token
[DEBUG] MCP server "figma-remote-mcp": Generated new OAuth state
[DEBUG] MCP server "figma-remote-mcp": Saving code verifier
[DEBUG] MCP server "figma-remote-mcp": Authorization URL: https://www.figma.com/oauth/mcp?response_type=code&client_id=FNYybnpcRpV6IPirKnXcPV&code_challenge=dash_3D0TQPMB2MusPnELH3E9Y7QywcjHM_UilyVqcc&code_challenge_method=S256&redirect_uri=http%3A%2F%2Flocalhost%3A3118%2Fcallback&state=ILYL9Z16jhsoDCcwBLtJYfENT96OWvgb-5VJLO8pdms&resource=https%3A%2F%2Fmcp.figma.com%2Fmcp
[DEBUG] MCP server "figma-remote-mcp": Scopes in URL: NOT FOUND
[DEBUG] MCP server "figma-remote-mcp": No scopes available from URL or metadata
[DEBUG] MCP server "figma-remote-mcp": Redirection handling is disabled, skipping redirect
[DEBUG] MCP server "figma-remote-mcp": HTTP Connection failed after 5609ms: Unauthorized (code: none, errno: none)
[ERROR] MCP server "figma-remote-mcp" Error: Unauthorized
[DEBUG] MCP server "figma-remote-mcp": Authentication required for HTTP server
[DEBUG] MCP server "context7": Initializing HTTP transport to https://mcp.context7.com/mcp
[DEBUG] MCP server "context7": Node version: v25.1.0, Platform: linux
[DEBUG] MCP server "context7": Environment: {"NODE_OPTIONS":"not set","UV_THREADPOOL_SIZE":"default","HTTP_PROXY":"not set","HTTPS_PROXY":"not set","NO_PROXY":"not set"}
[DEBUG] MCP server "playwright": Starting connection with timeout of 30000ms
[DEBUG] MCP server "atlassian": SSE transport initialized, awaiting connection
[DEBUG] MCP server "atlassian": Starting connection with timeout of 30000ms
[DEBUG] MCP server "atlassian": Returning tokens
[DEBUG] MCP server "atlassian": Token length: 93
[DEBUG] MCP server "atlassian": Has refresh token: true
[DEBUG] MCP server "atlassian": Expires in: 840s
[DEBUG] MCP server "context7": MTLS options: default
[DEBUG] MCP server "context7": HTTP transport options: {"url":"https://mcp.context7.com/mcp","headers":{"User-Agent":"claude-code/2.0.32"},"hasAuthProvider":true,"timeoutMs":60000}
[DEBUG] MCP server "context7": HTTP transport created successfully
[DEBUG] MCP server "context7": Client created, setting up request handler
[DEBUG] MCP server "context7": Starting connection with timeout of 30000ms
[DEBUG] MCP server "context7": Testing basic HTTP connectivity to https://mcp.context7.com/mcp
[DEBUG] MCP server "context7": Parsed URL: host=mcp.context7.com, port=default, protocol=https:
[DEBUG] MCP server "context7": No token data found
[DEBUG] Stream started - received first chunk
[DEBUG] Summarizing last 2 of 75 messages (~108196 tokens)
[DEBUG] AutoUpdaterWrapper: Installation type: npm-global, using native: false
[DEBUG] Stream started - received first chunk
[DEBUG] MCP server "context7": No token data found
[DEBUG] Summarizing all 3 messages (~0 tokens)
[DEBUG] MCP server "context7": No token data found
[DEBUG] MCP server "context7": Successfully connected to http server in 1391ms
[DEBUG] MCP server "context7": Connection established with capabilities: {"hasTools":true,"hasPrompts":false,"hasResources":false,"serverVersion":{"name":"Context7","version":"1.0.13"}}
[DEBUG] MCP server "context7": No token data found
[ERROR] lnA: lnA: Failed to install new version of claude:  npm error code ENOTEMPTY
npm error syscall rename
npm error path /home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code
npm error dest /home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/.claude-code-YY4U4Fz3
npm error errno -39
npm error ENOTEMPTY: directory not empty, rename '/home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code' -> '/home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/.claude-code-YY4U4Fz3'
npm error A complete log of this run can be found in: /home/jamestroutman/.npm/_logs/2025-11-06T19_34_06_470Z-debug-0.log
    at iDA (file:///home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code/cli.js:1875:389)
    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)
    at async file:///home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code/cli.js:2861:32593
[DEBUG] MCP server "atlassian": Returning tokens
[DEBUG] MCP server "atlassian": Token length: 93
[DEBUG] MCP server "atlassian": Has refresh token: true
[DEBUG] MCP server "atlassian": Expires in: 839s
[DEBUG] MCP server "atlassian": Returning tokens
[DEBUG] MCP server "atlassian": Token length: 93
[DEBUG] MCP server "atlassian": Has refresh token: true
[DEBUG] MCP server "atlassian": Expires in: 838s
[DEBUG] MCP server "atlassian": Successfully connected to sse server in 1851ms
[DEBUG] MCP server "atlassian": Connection established with capabilities: {"hasTools":true,"hasPrompts":false,"hasResources":false,"serverVersion":{"name":"atlassian-mcp-server","version":"1.0.0"}}
[DEBUG] MCP server "atlassian": Returning tokens
[DEBUG] MCP server "atlassian": Token length: 93
[DEBUG] MCP server "atlassian": Has refresh token: true
[DEBUG] MCP server "atlassian": Expires in: 838s
[DEBUG] Stream started - received first chunk
[DEBUG] AutoUpdaterWrapper: Installation type: npm-global, using native: false
[DEBUG] MCP server "playwright": Successfully connected to stdio server in 2900ms
[DEBUG] MCP server "playwright": Connection established with capabilities: {"hasTools":true,"hasPrompts":false,"hasResources":false,"serverVersion":{"name":"Playwright","version":"0.0.45"}}
[DEBUG] MCP server "supabase": Initializing HTTP transport to http://localhost:54321/mcp
[DEBUG] MCP server "supabase": Node version: v25.1.0, Platform: linux
[DEBUG] MCP server "supabase": Environment: {"NODE_OPTIONS":"not set","UV_THREADPOOL_SIZE":"default","HTTP_PROXY":"not set","HTTPS_PROXY":"not set","NO_PROXY":"not set"}
[DEBUG] MCP server "vercel": Initializing HTTP transport to https://mcp.vercel.com
[DEBUG] MCP server "vercel": Node version: v25.1.0, Platform: linux
[DEBUG] MCP server "vercel": Environment: {"NODE_OPTIONS":"not set","UV_THREADPOOL_SIZE":"default","HTTP_PROXY":"not set","HTTPS_PROXY":"not set","NO_PROXY":"not set"}
[DEBUG] MCP server "ide": Starting connection with timeout of 30000ms
[DEBUG] MCP server "supabase": MTLS options: default
[DEBUG] MCP server "supabase": HTTP transport options: {"url":"http://localhost:54321/mcp","headers":{"User-Agent":"claude-code/2.0.32"},"hasAuthProvider":true,"timeoutMs":60000}
[DEBUG] MCP server "supabase": HTTP transport created successfully
[DEBUG] MCP server "supabase": Client created, setting up request handler
[DEBUG] MCP server "supabase": Starting connection with timeout of 30000ms
[DEBUG] MCP server "supabase": Testing basic HTTP connectivity to http://localhost:54321/mcp
[DEBUG] MCP server "supabase": Parsed URL: host=localhost, port=54321, protocol=http:
[DEBUG] MCP server "supabase": Using loopback address: localhost
[DEBUG] MCP server "vercel": MTLS options: default
[DEBUG] MCP server "vercel": HTTP transport options: {"url":"https://mcp.vercel.com","headers":{"User-Agent":"claude-code/2.0.32"},"hasAuthProvider":true,"timeoutMs":60000}
[DEBUG] MCP server "vercel": HTTP transport created successfully
[DEBUG] MCP server "vercel": Client created, setting up request handler
[DEBUG] MCP server "vercel": Starting connection with timeout of 30000ms
[DEBUG] MCP server "vercel": Testing basic HTTP connectivity to https://mcp.vercel.com
[DEBUG] MCP server "vercel": Parsed URL: host=mcp.vercel.com, port=default, protocol=https:
[DEBUG] MCP server "supabase": No token data found
[DEBUG] MCP server "vercel": No token data found
[DEBUG] MCP server "ide": Successfully connected to ws-ide server in 42ms
[DEBUG] MCP server "ide": Connection established with capabilities: {"hasTools":true,"hasPrompts":false,"hasResources":false,"serverVersion":{"name":"Claude Code VSCode MCP","version":"2.0.30"}}
[DEBUG] MCP server "supabase": No token data found
[DEBUG] MCP server "supabase": No token data found
[DEBUG] MCP server "supabase": Successfully connected to http server in 89ms
[DEBUG] MCP server "supabase": Connection established with capabilities: {"hasTools":true,"hasPrompts":false,"hasResources":false,"serverVersion":{"name":"supabase","title":"Supabase","version":"0.5.5"}}
[DEBUG] MCP server "supabase": No token data found
[DEBUG] AutoUpdaterWrapper: Installation type: npm-global, using native: false
[DEBUG] MCP server "atlassian": Returning tokens
[DEBUG] MCP server "atlassian": Token length: 93
[DEBUG] MCP server "atlassian": Has refresh token: true
[DEBUG] MCP server "atlassian": Expires in: 837s
[DEBUG] MCP server "context7": No token data found
[DEBUG] MCP server "figma-remote-mcp": Token expired without refresh token
[DEBUG] MCP server "monday": Returning tokens
[DEBUG] MCP server "monday": Token length: 58
[DEBUG] MCP server "monday": Has refresh token: true
[DEBUG] MCP server "monday": Expires in: 68350s
[DEBUG] MCP server "supabase": No token data found
[DEBUG] MCP server "vercel": No token data found
[DEBUG] MCP server "atlassian": Returning tokens
[DEBUG] MCP server "atlassian": Token length: 93
[DEBUG] MCP server "atlassian": Has refresh token: true
[DEBUG] MCP server "atlassian": Expires in: 837s
[DEBUG] MCP server "context7": No token data found
[DEBUG] MCP server "figma-remote-mcp": Token expired without refresh token
[DEBUG] MCP server "monday": Returning tokens
[DEBUG] MCP server "monday": Token length: 58
[DEBUG] MCP server "monday": Has refresh token: true
[DEBUG] MCP server "monday": Expires in: 68350s
[DEBUG] MCP server "supabase": No token data found
[DEBUG] MCP server "vercel": No token data found
[DEBUG] MCP server "atlassian": Returning tokens
[DEBUG] MCP server "atlassian": Token length: 93
[DEBUG] MCP server "atlassian": Has refresh token: true
[DEBUG] MCP server "atlassian": Expires in: 837s
[DEBUG] MCP server "context7": No token data found
[DEBUG] MCP server "figma-remote-mcp": Token expired without refresh token
[DEBUG] MCP server "monday": Returning tokens
[DEBUG] MCP server "monday": Token length: 58
[DEBUG] MCP server "monday": Has refresh token: true
[DEBUG] MCP server "monday": Expires in: 68350s
[DEBUG] MCP server "supabase": No token data found
[DEBUG] MCP server "vercel": No token data found
[DEBUG] MCP server "vercel": No client info found
[DEBUG] MCP server "vercel": Token expired without refresh token
[DEBUG] MCP server "vercel": Generated new OAuth state
[DEBUG] MCP server "vercel": Saving code verifier
[DEBUG] MCP server "vercel": Authorization URL: https://vercel.com/oauth/authorize?response_type=code&client_id=cl_WbdtcToDrMR4ZHvXLGAmbfoYCsQjMeS8&code_challenge=tO1T86k97w5gAm-khRm7B1eouLEEL6KgqAAo8ejOezI&code_challenge_method=S256&redirect_uri=http%3A%2F%2Flocalhost%3A3118%2Fcallback&state=hFrnzgHXx5bMKtVFnptPd0130Jsh0HjMAk9hPcSARbE&resource=https%3A%2F%2Fmcp.vercel.com%2F
[DEBUG] MCP server "vercel": Scopes in URL: NOT FOUND
[DEBUG] MCP server "vercel": No scopes available from URL or metadata
[DEBUG] MCP server "vercel": Redirection handling is disabled, skipping redirect
[DEBUG] MCP server "vercel": HTTP Connection failed after 985ms: Unauthorized (code: none, errno: none)
[ERROR] MCP server "vercel" Error: Unauthorized
[DEBUG] MCP server "vercel": Authentication required for HTTP server
[DEBUG] MCP server "atlassian": Returning tokens
[DEBUG] MCP server "atlassian": Token length: 93
[DEBUG] MCP server "atlassian": Has refresh token: true
[DEBUG] MCP server "atlassian": Expires in: 836s
[DEBUG] MCP server "context7": No token data found
[DEBUG] MCP server "figma-remote-mcp": Token expired without refresh token
[DEBUG] MCP server "monday": Returning tokens
[DEBUG] MCP server "monday": Token length: 58
[DEBUG] MCP server "monday": Has refresh token: true
[DEBUG] MCP server "monday": Expires in: 68349s
[DEBUG] MCP server "supabase": No token data found
[DEBUG] MCP server "vercel": Token expired without refresh token
[DEBUG] MCP server "atlassian": Returning tokens
[DEBUG] MCP server "atlassian": Token length: 93
[DEBUG] MCP server "atlassian": Has refresh token: true
[DEBUG] MCP server "atlassian": Expires in: 836s
[DEBUG] MCP server "context7": No token data found
[DEBUG] MCP server "figma-remote-mcp": Token expired without refresh token
[DEBUG] MCP server "monday": Returning tokens
[DEBUG] MCP server "monday": Token length: 58
[DEBUG] MCP server "monday": Has refresh token: true
[DEBUG] MCP server "monday": Expires in: 68349s
[DEBUG] MCP server "supabase": No token data found
[DEBUG] MCP server "vercel": Token expired without refresh token
[DEBUG] Skills and commands included in Skill tool:
[DEBUG] Slash commands included in SlashCommand tool:
[DEBUG] MCP server "vercel": Cleared stored tokens
[DEBUG] MCP server "vercel": Using redirect port: 56620
[DEBUG] MCP server "vercel": Fetched OAuth metadata with scope: openid email offline_access profile
[DEBUG] MCP server "vercel": Generated new OAuth state
[DEBUG] MCP server "vercel": Starting SDK auth
[DEBUG] MCP server "vercel": Server URL: https://mcp.vercel.com
[DEBUG] MCP server "vercel": No client info found
[DEBUG] MCP server "vercel": Using scope from metadata: openid email offline_access profile
[DEBUG] MCP server "vercel": Token expired without refresh token
[DEBUG] MCP server "vercel": Using scope from metadata: openid email offline_access profile
[DEBUG] MCP server "vercel": Saving code verifier
[DEBUG] MCP server "vercel": Authorization URL: https://vercel.com/oauth/authorize?response_type=code&client_id=cl_WbdtcToDrMR4ZHvXLGAmbfoYCsQjMeS8&code_challenge=_NSs3M1Y_DCeXM_l38uZj7nwF2yTR8Lrv3FXmOJBVGQ&code_challenge_method=S256&redirect_uri=http%3A%2F%2Flocalhost%3A56620%2Fcallback&state=w8P5CgntPBH8YKVoYo_9cbV8JxbyOl2DpPSkCPVrfbU&scope=openid+email+offline_access+profile&prompt=consent&resource=https%3A%2F%2Fmcp.vercel.com%2F
[DEBUG] MCP server "vercel": Scopes in URL: openid email offline_access profile
[DEBUG] MCP server "vercel": Captured scopes from authorization URL: openid email offline_access profile
[DEBUG] MCP server "vercel": Redirecting to authorization URL
[DEBUG] MCP server "vercel": Authorization URL: https://vercel.com/oauth/authorize?response_type=code&client_id=cl_WbdtcToDrMR4ZHvXLGAmbfoYCsQjMeS8&code_challenge=_NSs3M1Y_DCeXM_l38uZj7nwF2yTR8Lrv3FXmOJBVGQ&code_challenge_method=S256&redirect_uri=http%3A%2F%2Flocalhost%3A56620%2Fcallback&state=w8P5CgntPBH8YKVoYo_9cbV8JxbyOl2DpPSkCPVrfbU&scope=openid+email+offline_access+profile&prompt=consent&resource=https%3A%2F%2Fmcp.vercel.com%2F
[DEBUG] MCP server "vercel": Opening authorization URL: https://vercel.com/oauth/authorize?response_type=code&client_id=cl_WbdtcToDrMR4ZHvXLGAmbfoYCsQjMeS8&code_challenge=_NSs3M1Y_DCeXM_l38uZj7nwF2yTR8Lrv3FXmOJBVGQ&code_challenge_method=S256&redirect_uri=http%3A%2F%2Flocalhost%3A56620%2Fcallback&state=w8P5CgntPBH8YKVoYo_9cbV8JxbyOl2DpPSkCPVrfbU&scope=openid+email+offline_access+profile&prompt=consent&resource=https%3A%2F%2Fmcp.vercel.com%2F
[DEBUG] MCP server "vercel": MCP OAuth server cleaned up
[DEBUG] MCP server "vercel": Completing auth flow with authorization code
[DEBUG] MCP server "vercel": Found client info
[DEBUG] MCP server "vercel": Returning code verifier
[DEBUG] MCP server "vercel": addClientAuthentication called
[DEBUG] MCP server "vercel": Current params: grant_type=authorization_code&code=995e7858673ae06f713a02dc6b5aabc9a0d9643d&code_verifier=QSyf2Yh4nX4MhAWUTJknhR4M8Qs_0AAl6732eIiNZB0&redirect_uri=http%3A%2F%2Flocalhost%3A56620%2Fcallback
[DEBUG] MCP server "vercel": Stored scopes: openid email offline_access profile
[DEBUG] MCP server "vercel": Adding client_id: cl_WbdtcToDrMR4ZHvXLGAmbfoYCsQjMeS8
[DEBUG] MCP server "vercel": Adding scope to token request: openid email offline_access profile
[DEBUG] MCP server "vercel": Final params: grant_type=authorization_code&code=995e7858673ae06f713a02dc6b5aabc9a0d9643d&code_verifier=QSyf2Yh4nX4MhAWUTJknhR4M8Qs_0AAl6732eIiNZB0&redirect_uri=http%3A%2F%2Flocalhost%3A56620%2Fcallback&client_id=cl_WbdtcToDrMR4ZHvXLGAmbfoYCsQjMeS8&scope=openid+email+offline_access+profile
[DEBUG] MCP server "vercel": Saving tokens
[DEBUG] MCP server "vercel": Token expires in: 3600
[DEBUG] MCP server "vercel": Has refresh token: true
[DEBUG] MCP server "vercel": Auth result: AUTHORIZED
[DEBUG] MCP server "vercel": Returning tokens
[DEBUG] MCP server "vercel": Token length: 799
[DEBUG] MCP server "vercel": Has refresh token: true
[DEBUG] MCP server "vercel": Expires in: 3599s
[DEBUG] MCP server "vercel": Tokens after auth: Present
[DEBUG] MCP server "vercel": Token access_token length: 799
[DEBUG] MCP server "vercel": Token expires_in: 3599.999
[DEBUG] MCP server "vercel": Initializing HTTP transport to https://mcp.vercel.com
[DEBUG] MCP server "vercel": Node version: v25.1.0, Platform: linux
[DEBUG] MCP server "vercel": Environment: {"NODE_OPTIONS":"not set","UV_THREADPOOL_SIZE":"default","HTTP_PROXY":"not set","HTTPS_PROXY":"not set","NO_PROXY":"not set"}
[DEBUG] MCP server "vercel": MTLS options: default
[DEBUG] MCP server "vercel": HTTP transport options: {"url":"https://mcp.vercel.com","headers":{"User-Agent":"claude-code/2.0.32"},"hasAuthProvider":true,"timeoutMs":60000}
[DEBUG] MCP server "vercel": HTTP transport created successfully
[DEBUG] MCP server "vercel": Client created, setting up request handler
[DEBUG] MCP server "vercel": Starting connection with timeout of 30000ms
[DEBUG] MCP server "vercel": Testing basic HTTP connectivity to https://mcp.vercel.com
[DEBUG] MCP server "vercel": Parsed URL: host=mcp.vercel.com, port=default, protocol=https:
[DEBUG] MCP server "vercel": Returning tokens
[DEBUG] MCP server "vercel": Token length: 799
[DEBUG] MCP server "vercel": Has refresh token: true
[DEBUG] MCP server "vercel": Expires in: 3599s
[DEBUG] MCP server "vercel": Returning tokens
[DEBUG] MCP server "vercel": Token length: 799
[DEBUG] MCP server "vercel": Has refresh token: true
[DEBUG] MCP server "vercel": Expires in: 3599s
[DEBUG] MCP server "vercel": Returning tokens
[DEBUG] MCP server "vercel": Token length: 799
[DEBUG] MCP server "vercel": Has refresh token: true
[DEBUG] MCP server "vercel": Expires in: 3599s
[DEBUG] MCP server "vercel": Successfully connected to http server in 560ms
[DEBUG] MCP server "vercel": Connection established with capabilities: {"hasTools":true,"hasPrompts":true,"hasResources":false,"serverVersion":{"name":"Vercel MCP Server","version":"2"}}
[DEBUG] MCP server "vercel": Returning tokens
[DEBUG] MCP server "vercel": Token length: 799
[DEBUG] MCP server "vercel": Has refresh token: true
[DEBUG] MCP server "vercel": Expires in: 3599s
[DEBUG] MCP server "vercel": Returning tokens
[DEBUG] MCP server "vercel": Token length: 799
[DEBUG] MCP server "vercel": Has refresh token: true
[DEBUG] MCP server "vercel": Expires in: 3599s
[DEBUG] MCP server "atlassian": Returning tokens
[DEBUG] MCP server "atlassian": Token length: 93
[DEBUG] MCP server "atlassian": Has refresh token: true
[DEBUG] MCP server "atlassian": Expires in: 714s
[DEBUG] MCP server "context7": No token data found
[DEBUG] MCP server "figma-remote-mcp": Token expired without refresh token
[DEBUG] MCP server "monday": Returning tokens
[DEBUG] MCP server "monday": Token length: 58
[DEBUG] MCP server "monday": Has refresh token: true
[DEBUG] MCP server "monday": Expires in: 68227s
[DEBUG] MCP server "supabase": No token data found
[DEBUG] MCP server "vercel": Returning tokens
[DEBUG] MCP server "vercel": Token length: 799
[DEBUG] MCP server "vercel": Has refresh token: true
[DEBUG] MCP server "vercel": Expires in: 3599s
[DEBUG] AutoUpdaterWrapper: Installation type: npm-global, using native: false
[DEBUG] FileHistory: Added snapshot for f143c785-1bd6-42b1-8734-b3769a091994, tracking 0 files
[DEBUG] Rendering user message with 1 content blocks
[DEBUG] Block 0: <command-name>/mcp</command-name>
            <command-message>mcp</command-message>
            <co...
[DEBUG] UserCommandMessage rendering: "mcp" (args: "none")
[DEBUG] isSkillFormat: false, prefix: "/"
[DEBUG] Writing to temp file: /home/jamestroutman/.claude.json.tmp.559556.1762457773265
[DEBUG] Preserving file permissions: 100644
[DEBUG] Temp file written successfully, size: 45123 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /home/jamestroutman/.claude.json.tmp.559556.1762457773265 to /home/jamestroutman/.claude.json
[DEBUG] File /home/jamestroutman/.claude.json written atomically
[DEBUG] AutoUpdater: Detected installation type: npm-global
[DEBUG] AutoUpdater: Using global update method
[ERROR] lnA: lnA: Failed to install new version of claude:  npm error code ENOTEMPTY
npm error syscall rename
npm error path /home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code
npm error dest /home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/.claude-code-YY4U4Fz3
npm error errno -39
npm error ENOTEMPTY: directory not empty, rename '/home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code' -> '/home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/.claude-code-YY4U4Fz3'
npm error A complete log of this run can be found in: /home/jamestroutman/.npm/_logs/2025-11-06T19_36_13_847Z-debug-0.log
    at iDA (file:///home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code/cli.js:1875:389)
    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)
    at async file:///home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code/cli.js:2861:32593
[DEBUG] MCP server "vercel": Initial auth result: REDIRECT
[DEBUG] Getting matching hook commands for Notification with query: undefined
[DEBUG] Found 0 hook matchers in settings
[DEBUG] Matched 0 unique hooks for query "no match query" (0 before deduplication)
[DEBUG] Hooks: getAsyncHookResponseAttachments called
[DEBUG] Hooks: checkForNewResponses called
[DEBUG] Hooks: Found 0 total hooks in registry
[DEBUG] Hooks: checkForNewResponses returning 0 responses
[DEBUG] Getting matching hook commands for UserPromptSubmit with query: undefined
[DEBUG] Found 0 hook matchers in settings
[DEBUG] Matched 0 unique hooks for query "no match query" (0 before deduplication)
[DEBUG] FileHistory: Making snapshot for message b5d10b03-696f-426d-b2c4-9da64f94dc3f
[DEBUG] FileHistory: Added snapshot for b5d10b03-696f-426d-b2c4-9da64f94dc3f, tracking 0 files
[DEBUG] MCP server "ide": Calling MCP tool: closeAllDiffTabs
[DEBUG] MCP server "ide": Tool 'closeAllDiffTabs' completed successfully in 22ms
[DEBUG] Skills and commands included in Skill tool:
[DEBUG] Slash commands included in SlashCommand tool:
[DEBUG] Stream started - received first chunk
[DEBUG] Stream started - received first chunk
[DEBUG] Stream started - received first chunk
[DEBUG] executePreToolHooks called for tool: mcp__vercel__list_teams
[DEBUG] Getting matching hook commands for PreToolUse with query: mcp__vercel__list_teams
[DEBUG] Found 0 hook matchers in settings
[DEBUG] Matched 0 unique hooks for query "mcp__vercel__list_teams" (0 before deduplication)
[DEBUG] Persisting permission update: addRules to source 'localSettings'
[DEBUG] Persisting 1 allow rule(s) to localSettings
[DEBUG] Writing to temp file: /home/jamestroutman/code/experiments/clarity-turbo/my-turborepo/.claude/settings.local.json.tmp.559556.1762457820632
[DEBUG] Preserving file permissions: 100644
[DEBUG] Temp file written successfully, size: 4711 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /home/jamestroutman/code/experiments/clarity-turbo/my-turborepo/.claude/settings.local.json.tmp.559556.1762457820632 to /home/jamestroutman/code/experiments/clarity-turbo/my-turborepo/.claude/settings.local.json
[DEBUG] File /home/jamestroutman/code/experiments/clarity-turbo/my-turborepo/.claude/settings.local.json written atomically
[DEBUG] Applying permission update: Adding 1 allow rule(s) to destination 'localSettings': ["mcp__vercel__list_teams"]
[DEBUG] AutoUpdaterWrapper: Installation type: npm-global, using native: false
[DEBUG] MCP server "vercel": Calling MCP tool: list_teams
[DEBUG] MCP server "vercel": Returning tokens
[DEBUG] MCP server "vercel": Token length: 799
[DEBUG] MCP server "vercel": Has refresh token: true
[DEBUG] MCP server "vercel": Expires in: 3551s
[DEBUG] AutoUpdater: Detected installation type: npm-global
[DEBUG] AutoUpdater: Using global update method
[DEBUG] MCP server "vercel": Tool 'list_teams' completed successfully in 408ms
[DEBUG] Getting matching hook commands for PostToolUse with query: mcp__vercel__list_teams
[DEBUG] Found 0 hook matchers in settings
[DEBUG] Matched 0 unique hooks for query "mcp__vercel__list_teams" (0 before deduplication)
[DEBUG] MCP server "ide": Calling MCP tool: getDiagnostics
[DEBUG] Hooks: getAsyncHookResponseAttachments called
[DEBUG] Hooks: checkForNewResponses called
[DEBUG] Hooks: Found 0 total hooks in registry
[DEBUG] Hooks: checkForNewResponses returning 0 responses
[DEBUG] MCP server "ide": Tool 'getDiagnostics' completed successfully in 18ms
[DEBUG] Skills and commands included in Skill tool:
[DEBUG] Slash commands included in SlashCommand tool:
[ERROR] lnA: lnA: Failed to install new version of claude:  npm error code ENOTEMPTY
npm error syscall rename
npm error path /home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code
npm error dest /home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/.claude-code-YY4U4Fz3
npm error errno -39
npm error ENOTEMPTY: directory not empty, rename '/home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code' -> '/home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/.claude-code-YY4U4Fz3'
npm error A complete log of this run can be found in: /home/jamestroutman/.npm/_logs/2025-11-06T19_37_01_373Z-debug-0.log
    at iDA (file:///home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code/cli.js:1875:389)
    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)
    at async file:///home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code/cli.js:2861:32593
[DEBUG] Stream started - received first chunk
[DEBUG] executePreToolHooks called for tool: mcp__vercel__list_projects
[DEBUG] Getting matching hook commands for PreToolUse with query: mcp__vercel__list_projects
[DEBUG] Found 0 hook matchers in settings
[DEBUG] Matched 0 unique hooks for query "mcp__vercel__list_projects" (0 before deduplication)
[DEBUG] Getting matching hook commands for Notification with query: undefined
[DEBUG] Found 0 hook matchers in settings
[DEBUG] Matched 0 unique hooks for query "no match query" (0 before deduplication)
[DEBUG] Persisting permission update: addRules to source 'localSettings'
[DEBUG] Persisting 1 allow rule(s) to localSettings
[DEBUG] Writing to temp file: /home/jamestroutman/code/experiments/clarity-turbo/my-turborepo/.claude/settings.local.json.tmp.559556.1762457842515
[DEBUG] Preserving file permissions: 100644
[DEBUG] Temp file written successfully, size: 4747 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /home/jamestroutman/code/experiments/clarity-turbo/my-turborepo/.claude/settings.local.json.tmp.559556.1762457842515 to /home/jamestroutman/code/experiments/clarity-turbo/my-turborepo/.claude/settings.local.json
[DEBUG] File /home/jamestroutman/code/experiments/clarity-turbo/my-turborepo/.claude/settings.local.json written atomically
[DEBUG] Applying permission update: Adding 1 allow rule(s) to destination 'localSettings': ["mcp__vercel__list_projects"]
[DEBUG] AutoUpdaterWrapper: Installation type: npm-global, using native: false
[DEBUG] MCP server "vercel": Calling MCP tool: list_projects
[DEBUG] MCP server "vercel": Returning tokens
[DEBUG] MCP server "vercel": Token length: 799
[DEBUG] MCP server "vercel": Has refresh token: true
[DEBUG] MCP server "vercel": Expires in: 3529s
[DEBUG] AutoUpdater: Detected installation type: npm-global
[DEBUG] AutoUpdater: Using global update method
[ERROR] lnA: lnA: Failed to install new version of claude:  npm error code ENOTEMPTY
npm error syscall rename
npm error path /home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code
npm error dest /home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/.claude-code-YY4U4Fz3
npm error errno -39
npm error ENOTEMPTY: directory not empty, rename '/home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code' -> '/home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/.claude-code-YY4U4Fz3'
npm error A complete log of this run can be found in: /home/jamestroutman/.npm/_logs/2025-11-06T19_37_23_320Z-debug-0.log
    at iDA (file:///home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code/cli.js:1875:389)
    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)
    at async file:///home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code/cli.js:2861:32593
[DEBUG] MCP server "vercel": Tool 'list_projects' completed successfully in 1s
[DEBUG] Getting matching hook commands for PostToolUse with query: mcp__vercel__list_projects
[DEBUG] Found 0 hook matchers in settings
[DEBUG] Matched 0 unique hooks for query "mcp__vercel__list_projects" (0 before deduplication)
[DEBUG] MCP server "ide": Calling MCP tool: getDiagnostics
[DEBUG] Hooks: getAsyncHookResponseAttachments called
[DEBUG] Hooks: checkForNewResponses called
[DEBUG] Hooks: Found 0 total hooks in registry
[DEBUG] Hooks: checkForNewResponses returning 0 responses
[DEBUG] MCP server "ide": Tool 'getDiagnostics' completed successfully in 11ms
[DEBUG] Skills and commands included in Skill tool:
[DEBUG] Slash commands included in SlashCommand tool:
[DEBUG] Stream started - received first chunk
[DEBUG] Writing to temp file: /home/jamestroutman/.claude.json.tmp.559556.1762457849649
[DEBUG] Preserving file permissions: 100644
[DEBUG] Temp file written successfully, size: 45123 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /home/jamestroutman/.claude.json.tmp.559556.1762457849649 to /home/jamestroutman/.claude.json
[DEBUG] File /home/jamestroutman/.claude.json written atomically
[DEBUG] Getting matching hook commands for Stop with query: undefined
[DEBUG] Found 0 hook matchers in settings
[DEBUG] Matched 0 unique hooks for query "no match query" (0 before deduplication)
[DEBUG] Writing to temp file: /home/jamestroutman/.claude.json.tmp.559556.1762457849683
[DEBUG] Preserving file permissions: 100644
[DEBUG] Temp file written successfully, size: 45123 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /home/jamestroutman/.claude.json.tmp.559556.1762457849683 to /home/jamestroutman/.claude.json
[DEBUG] File /home/jamestroutman/.claude.json written atomically
[DEBUG] MCP server "monday": SSE connection dropped after 302s uptime
[DEBUG] MCP server "monday": Connection error: SSE error: TypeError: terminated: Body Timeout Error
[DEBUG] MCP server "context7": HTTP connection dropped after 301s uptime
[DEBUG] MCP server "context7": Connection error: SSE stream disconnected: TypeError: terminated
[DEBUG] MCP server "context7": No token data found
[DEBUG] MCP server "monday": Returning tokens
[DEBUG] MCP server "monday": Token length: 58
[DEBUG] MCP server "monday": Has refresh token: true
[DEBUG] MCP server "monday": Expires in: 68048s
[DEBUG] AutoUpdaterWrapper: Installation type: npm-global, using native: false
[DEBUG] AutoUpdater: Detected installation type: npm-global
[DEBUG] AutoUpdater: Using global update method
[ERROR] lnA: lnA: Failed to install new version of claude:  npm error code ENOTEMPTY
npm error syscall rename
npm error path /home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code
npm error dest /home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/.claude-code-YY4U4Fz3
npm error errno -39
npm error ENOTEMPTY: directory not empty, rename '/home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code' -> '/home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/.claude-code-YY4U4Fz3'
npm error A complete log of this run can be found in: /home/jamestroutman/.npm/_logs/2025-11-06T19_40_07_282Z-debug-0.log
    at iDA (file:///home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code/cli.js:1875:389)
    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)
    at async file:///home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code/cli.js:2861:32593
[DEBUG] AutoUpdaterWrapper: Installation type: npm-global, using native: false
[DEBUG] AutoUpdater: Detected installation type: npm-global
[DEBUG] AutoUpdater: Using global update method
[ERROR] lnA: lnA: Failed to install new version of claude:  npm error code ENOTEMPTY
npm error syscall rename
npm error path /home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code
npm error dest /home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/.claude-code-YY4U4Fz3
npm error errno -39
npm error ENOTEMPTY: directory not empty, rename '/home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code' -> '/home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/.claude-code-YY4U4Fz3'
npm error A complete log of this run can be found in: /home/jamestroutman/.npm/_logs/2025-11-06T19_40_15_291Z-debug-0.log
    at iDA (file:///home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code/cli.js:1875:389)
    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)
    at async file:///home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code/cli.js:2861:32593
[DEBUG] AutoUpdaterWrapper: Installation type: npm-global, using native: false
[DEBUG] AutoUpdater: Detected installation type: npm-global
[DEBUG] AutoUpdater: Using global update method
[ERROR] lnA: lnA: Failed to install new version of claude:  npm error code ENOTEMPTY
npm error syscall rename
npm error path /home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code
npm error dest /home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/.claude-code-YY4U4Fz3
npm error errno -39
npm error ENOTEMPTY: directory not empty, rename '/home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code' -> '/home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/.claude-code-YY4U4Fz3'
npm error A complete log of this run can be found in: /home/jamestroutman/.npm/_logs/2025-11-06T19_40_19_890Z-debug-0.log
    at iDA (file:///home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code/cli.js:1875:389)
    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)
    at async file:///home/linuxbrew/.linuxbrew/lib/node_modules/@anthropic-ai/claude-code/cli.js:2861:32593
[DEBUG] AutoUpdaterWrapper: Installation type: npm-global, using native: false
[DEBUG] Getting matching hook commands for SessionEnd with query: undefined
[DEBUG] Found 0 hook matchers in settings
[DEBUG] Matched 0 unique hooks for query "no match query" (0 before deduplication)
[DEBUG] Cleaned up session snapshot: /home/jamestroutman/.claude/shell-snapshots/snapshot-zsh-1762457639984-8jayre.sh
[DEBUG] MCP server "chrome-devtools": Sending SIGINT to MCP server process
[DEBUG] MCP server "monday": SSE transport closed/disconnected, attempting automatic reconnection
[DEBUG] MCP server "context7": HTTP transport closed/disconnected, attempting automatic reconnection
[DEBUG] MCP server "atlassian": SSE transport closed/disconnected, attempting automatic reconnection
[DEBUG] MCP server "playwright": Sending SIGINT to MCP server process
[DEBUG] MCP server "supabase": HTTP transport closed/disconnected, attempting automatic reconnection
[DEBUG] MCP server "vercel": HTTP transport closed/disconnected, attempting automatic reconnection
[DEBUG] LSP server manager shut down successfully
[DEBUG] FileHistory: Making snapshot for message 8f82efe5-d756-46c1-9444-030fdc1cc07b
[DEBUG] FileHistory: Added snapshot for 8f82efe5-d756-46c1-9444-030fdc1cc07b, tracking 0 files
[DEBUG] Rendering user message with 1 content blocks
[DEBUG] Block 0: <command-name>/exit</command-name>
            <command-message>exit</command-message>
            <...
[DEBUG] UserCommandMessage rendering: "exit" (args: "none")
[DEBUG] isSkillFormat: false, prefix: "/"
[DEBUG] Writing to temp file: /home/jamestroutman/.claude.json.tmp.559556.1762458027366
[DEBUG] Preserving file permissions: 100644
[DEBUG] Temp file written successfully, size: 45123 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /home/jamestroutman/.claude.json.tmp.559556.1762458027366 to /home/jamestroutman/.claude.json
[DEBUG] File /home/jamestroutman/.claude.json written atomically
[DEBUG] MCP server "context7": Initializing HTTP transport to https://mcp.context7.com/mcp
[DEBUG] MCP server "context7": Node version: v25.1.0, Platform: linux
[DEBUG] MCP server "context7": Environment: {"NODE_OPTIONS":"not set","UV_THREADPOOL_SIZE":"default","HTTP_PROXY":"not set","HTTPS_PROXY":"not set","NO_PROXY":"not set"}
[DEBUG] MCP server "supabase": Initializing HTTP transport to http://localhost:54321/mcp
[DEBUG] MCP server "supabase": Node version: v25.1.0, Platform: linux
[DEBUG] MCP server "supabase": Environment: {"NODE_OPTIONS":"not set","UV_THREADPOOL_SIZE":"default","HTTP_PROXY":"not set","HTTPS_PROXY":"not set","NO_PROXY":"not set"}
[DEBUG] MCP server "vercel": Initializing HTTP transport to https://mcp.vercel.com
[DEBUG] MCP server "vercel": Node version: v25.1.0, Platform: linux
[DEBUG] MCP server "vercel": Environment: {"NODE_OPTIONS":"not set","UV_THREADPOOL_SIZE":"default","HTTP_PROXY":"not set","HTTPS_PROXY":"not set","NO_PROXY":"not set"}
[DEBUG] MCP server "monday": SSE transport initialized, awaiting connection
[DEBUG] MCP server "monday": Starting connection with timeout of 30000ms
[DEBUG] MCP server "monday": Returning tokens
[DEBUG] MCP server "monday": Token length: 58
[DEBUG] MCP server "monday": Has refresh token: true
[DEBUG] MCP server "monday": Expires in: 67973s
[DEBUG] MCP server "context7": MTLS options: default
[DEBUG] MCP server "context7": HTTP transport options: {"url":"https://mcp.context7.com/mcp","headers":{"User-Agent":"claude-code/2.0.32"},"hasAuthProvider":true,"timeoutMs":60000}
[DEBUG] MCP server "context7": HTTP transport created successfully
[DEBUG] MCP server "context7": Client created, setting up request handler
[DEBUG] MCP server "context7": Starting connection with timeout of 30000ms
[DEBUG] MCP server "context7": Testing basic HTTP connectivity to https://mcp.context7.com/mcp
[DEBUG] MCP server "context7": Parsed URL: host=mcp.context7.com, port=default, protocol=https:
[DEBUG] MCP server "atlassian": SSE transport initialized, awaiting connection
[DEBUG] MCP server "atlassian": Starting connection with timeout of 30000ms
[DEBUG] MCP server "atlassian": Returning tokens
[DEBUG] MCP server "atlassian": Token length: 93
[DEBUG] MCP server "atlassian": Has refresh token: true
[DEBUG] MCP server "atlassian": Expires in: 460s
[DEBUG] MCP server "supabase": MTLS options: default
[DEBUG] MCP server "supabase": HTTP transport options: {"url":"http://localhost:54321/mcp","headers":{"User-Agent":"claude-code/2.0.32"},"hasAuthProvider":true,"timeoutMs":60000}
[DEBUG] MCP server "supabase": HTTP transport created successfully
[DEBUG] MCP server "supabase": Client created, setting up request handler
[DEBUG] MCP server "supabase": Starting connection with timeout of 30000ms
[DEBUG] MCP server "supabase": Testing basic HTTP connectivity to http://localhost:54321/mcp
[DEBUG] MCP server "supabase": Parsed URL: host=localhost, port=54321, protocol=http:
[DEBUG] MCP server "supabase": Using loopback address: localhost
[DEBUG] MCP server "vercel": MTLS options: default
[DEBUG] MCP server "vercel": HTTP transport options: {"url":"https://mcp.vercel.com","headers":{"User-Agent":"claude-code/2.0.32"},"hasAuthProvider":true,"timeoutMs":60000}
[DEBUG] MCP server "vercel": HTTP transport created successfully
[DEBUG] MCP server "vercel": Client created, setting up request handler
[DEBUG] MCP server "vercel": Starting connection with timeout of 30000ms
[DEBUG] MCP server "vercel": Testing basic HTTP connectivity to https://mcp.vercel.com
[DEBUG] MCP server "vercel": Parsed URL: host=mcp.vercel.com, port=default, protocol=https:
[DEBUG] MCP server "context7": HTTP connection dropped after 379s uptime
[DEBUG] MCP server "context7": Connection error: SSE stream disconnected: AbortError: This operation was aborted
[DEBUG] MCP server "context7": No token data found
[DEBUG] MCP server "supabase": No token data found
[DEBUG] MCP server "vercel": Returning tokens
[DEBUG] MCP server "vercel": Token length: 799
[DEBUG] MCP server "vercel": Has refresh token: true
[DEBUG] MCP server "vercel": Expires in: 3344s
[DEBUG] MCP server "chrome-devtools": SIGINT failed, sending SIGTERM to MCP server process
[DEBUG] MCP server "playwright": SIGINT failed, sending SIGTERM to MCP server process
[DEBUG] MCP server "supabase": No token data found
[DEBUG] MCP server "chrome-devtools": MCP server process exited cleanly
[DEBUG] MCP server "playwright": MCP server process exited cleanly
[DEBUG] Writing to temp file: /home/jamestroutman/.claude.json.tmp.559556.1762458027454
[DEBUG] Preserving file permissions: 100644
[DEBUG] Temp file written successfully, size: 45520 bytes
[DEBUG] Applied original permissions to temp file
[DEBUG] Renaming /home/jamestroutman/.claude.json.tmp.559556.1762458027454 to /home/jamestroutman/.claude.json
[DEBUG] File /home/jamestroutman/.claude.json written atomically
